<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="favicon.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="/style.css">
  <title>Javascript</title>
</head>

<body>
  <div class="bg-blue-200 min-h-screen py-32 px-10">
    <div class="bg-white p-10 rounded-lg shadow md:w-3/4 lg:w-1/2 mx-auto">
      <h2 class="text-4xl mb-5">How much do pies cost ?</h2>
      <form action="">
        <div class="mb-5">
          <label for="name" class="block mb-2 font-bold text-gray-600">Price</label>
          <input type="text" id="price" name="price" value="20"
            class="border border-gray-300 shadow p-3 w-full rounded">
        </div>
        <div class="mb-5">
          <label for="quantity" class="block mb-2 font-bold text-gray-600">Quantity
            <span class="bg-blue-700 p-1 text-white quantity-label">1</span>
          </label>
          <input type="range" min="1" max="10" value="1" slide="1" id="quantity" name="quantity"
            class="p-3 w-full rounded">
        </div>

        <div class="text-right text-6xl font-semibold total"></div>
      </form>
    </div>
  </div>


  <!-- <script type="module" src="/main.js"></script> -->
  <script>
    //grab everything we need
    const priceInput = document.querySelector('[name=price]');
    const quantityInput = document.querySelector('[name=quantity]');
    const total = document.querySelector('.total');
    const quantityLabel = document.querySelector('.quantity-label');

    //create function
    function calculatePieCost() {
      const price = priceInput.value;
      const quantity = quantityInput.value;
      const cost = price * quantity;
      console.log(cost);
      total.innerText = '$' + cost.toFixed(2);
    }

    //update quantity label
    function updatequantityLabel() {
      const quantity = quantityInput.value;
      quantityLabel.innerText = quantity;
    }

    //on first run 
    calculatePieCost();

    //add our event listener
    priceInput.addEventListener('input', calculatePieCost);
    quantityInput.addEventListener('input', calculatePieCost);
    quantityInput.addEventListener('input', updatequantityLabel);

  </script>
</body>

</html>